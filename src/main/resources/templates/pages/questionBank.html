<!DOCTYPE html>
<html lang="en" ng-app="myApp">

<head>
	 <meta charset="utf-8"></meta> 
	<!-- <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta> -->
	<meta name="viewport" content="width=device-width, initial-scale=1"></meta>
	<meta name="description" content=""></meta>
	<meta name="author" content=""></meta>

	<title>Question bank</title>
	<span th:include="/includes/commons :: #commons"></span>
	<script type="text/javascript" src="customJS/questionBank.js" th:src="@{customJS/questionBank.js}"/>
	<!-- <script type="text/javascript" src="customJS/course.js" th:src="@{customJS/course.js}"/>  -->
	
	
</head>

<body ng-controller="myCtrl" ng-init="loadTable()">
	<div id="wrapper">
		<!-- Navigation -->
		<span th:include="/includes/teachersNav :: #teachersNav"></span>
		<div id="page-wrapper">
			<div class="row">
				<div class="col-lg-12">
					<h1 class="page-header" style="color : green;">Question Bank</h1>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-12">
					<div class="panel panel-default">
						<div class="panel-heading">
							<div class="row">
								<div class="col-md-12">
									<button class="btn btn-primary pull-right" title="Add a new Question" data-toggle="modal" data-target="#newQus">
										<i class="fa fa-plus"></i>
									</button>
								</div>
							</div>
						</div>
						<div class="panel-body">
							<table width="100%" class="table table-striped table-bordered table-hover" id="quesBankTable">
								<thead>
									<tr>
										<th>Qus No</th>
										<th>Questions</th>
										<th>Created Date</th>
										<th>Course Name</th>
										<th>Action</th>
										<th>Action</th>
									</tr>
									</thead>
								<tbody>
									<tr class="odd gradeX" ng-repeat="x in allQuestion">
										<td>{{$index + 1}}</td>
										<td>
											<strong>{{x.questionTitle}}</strong><br></br><br></br>
											1. {{x.option1}}<br></br>
											2. {{x.option2}}<br></br>
											3. {{x.option3}}<br></br>
											4. {{x.option4}}<br></br>
											<span style=" color: green;">Ans : {{x.ans}}</span>
										</td>
										<td>{{x.questionCreatedDate}}</td>
										<td class="center">{{x.courseName}}</td>
										<td class="center"><Button class="btn btn-primary"><i class="fa fa-edit"></i></Button></td>
										<td class="center"><Button class="btn btn-danger"><i class="fa fa-trash"></i></Button></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Start Modal -->
	<div class="modal fade" id="newQus" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h3 class="modal-title text-center" style="color : green;">Create a new Question</h3>
				</div>
				<div class="modal-body">
					<form class="form-horizontal" id="newQusForm" name="newQusForm" role="form" >
						<div class="form-group">
							<label class="col-md-4 control-label" for="courseId">Select course</label>
							<div class="col-md-6">
								<select requird = "true" id="courseId" name="courseId" ng-model="courseId" ng-change="selectedCourse(courseId)" ng-options="courses.courseId as courses.courseName for courses in allCourses" class="form-control" title="select course">
									<option ng-value="{{courses.courseId}}">{{courses.courseName}}</option>
								</select>
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-4 control-label" for="bookId">Select Book</label>
							<div class="col-md-6">
								<select id="bookId" name="bookId" class="form-control" ng-change="chapters(bookId)" ng-model="bookId" ng-disabled="disableCombo">
									<option></option>
									<option ng-repeat="books in booksFromSelectedCourse" value="{{books.bookId}}">{{books.bookName}}</option>
								</select>
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-4 control-label" for="chapterId">Select Chapter</label>
							<div class="col-md-6">
								<select id="chapterId" name="chapterId" class="form-control" ng-model="chapterId" ng-disabled="disableCombo">
									<option ng-repeat="chapters in chaptersFromSelectedBook" value="{{chapters.chId}}">{{chapters.chapterName}}</option>
								</select>
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-4 control-label" for="refId">Select Reference</label>
							<div class="col-md-6">
								<select id="refId" name="refId" ng-change="ref(refId)" class="form-control" ng-model="refId" ng-disabled="disableRef">
									<option ng-repeat="ref in referenceFromSelectedCourse" value="{{ref.refId}}" >{{ref.referenceHeader}}</option>
								</select>
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-4 control-label" for="questionTitle">Question Title</label>
							<div class="col-md-6">
								<textarea class="form-control" id="questionTitle" name="questionTitle" ng-model="questionTitle"></textarea>
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-4 control-label" for="option1">Option One</label>
							<div class="col-md-6">
								<div class="input-group">
									<span class="input-group-addon"> <input type="radio" name="options" ng-model="ans" ng-value="'1'"/>
									</span> <input id="option1" name="option1" class="form-control" type="text"
										placeholder="Write an option" required="1" ng-model="option1"/>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-4 control-label" for="option2">Option Two</label>
							<div class="col-md-6">
								<div class="input-group">
									<span class="input-group-addon"> <input type="radio" name="options" ng-model="ans" ng-value="'2'"/>
									</span> <input id="option2" name="option2" class="form-control" type="text"
										placeholder="Write an option" required="1" ng-model="option2"/>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-4 control-label" for="option3">Option Three</label>
							<div class="col-md-6">
								<div class="input-group">
									<span class="input-group-addon"> <input type="radio" name="options" ng-model="ans" ng-value="'3'"/>
									</span> <input id="option3" name="option3" class="form-control" type="text"
										placeholder="Write an option" required="1" ng-model="option3"/>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-4 control-label" for="option4">Option Four</label>
							<div class="col-md-6">
								<div class="input-group">
									<span class="input-group-addon"> <input type="radio" name="options" ng-model="ans" ng-value="'4'"/>
									</span> <input id="option4" name="option4" class="form-control" type="text"
										placeholder="Write an option" required="1" ng-model="option4"></input>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-4 control-label" for=""></label>
							<div class="col-md-6">
								<button type="submit" ng-click="saveQus(ans)" data-dismiss="modal" ng-disabled="newQusForm.option2.$invalid || newQusForm.option3.$invalid" class="btn btn-primary">Save</button>
								<input type="reset" ng-click="reset()" value="Reset" class="btn btn-danger"/>
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
	<!-- end Modal -->
	<script>
		$(document).ready(function() {
			setTimeout(function(){
				var rowCount = $("#quesBankTable tr").length;
				if (rowCount >= 0) {
					$("window").load(
						$("#quesBankTable").dataTable({
							responsive: true
						})
					);
				}
			}, 1000);
		});
	</script>
</body>
</html>